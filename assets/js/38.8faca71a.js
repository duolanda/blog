(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1138:function(a,s,t){"use strict";t.r(s);var e=t(11),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"视频倍速播放"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频倍速播放"}},[a._v("#")]),a._v(" 视频倍速播放")]),a._v(" "),t("h3",{attrs:{id:"视频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频"}},[a._v("#")]),a._v(" 视频")]),a._v(" "),t("p",[a._v("通过使用 av filter 中的 setpts 来实现：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg -i input.mkv -filter:v "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"setpts=0.5*PTS"')]),a._v(" output.mkv\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("视频滤波器通过改变每一个 pts时间戳 来实现；")]),a._v(" "),t("p",[a._v("如果担心会出现丢帧的情况，可以使用 -r 指定输入帧数，如果源视频是30fps，我们想4倍播放：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg -i input.mkv -r "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("120")]),a._v(" -filter:v "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"setpts=0.25*PTS"')]),a._v(" output.mkv\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("参数支持的范围为 "),t("strong",[a._v("0.25-4")]),a._v("。0.25 是四倍速，0.5 是二倍速，以此类推、")]),a._v(" "),t("h3",{attrs:{id:"音频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#音频"}},[a._v("#")]),a._v(" 音频")]),a._v(" "),t("p",[a._v("通过 av filter 中的 atempo 来实现：")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg -i input.mkv -filter:a "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"atempo=2.0,atempo=2.0"')]),a._v(" -vn output.mkv\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("atempo 只支持 "),t("strong",[a._v("0.5-2.0")]),a._v(" 的数值，如果要调整成四倍速，需要按上面的写法来，填两组 2.0。")]),a._v(" "),t("p",[a._v('ffmpeg -i input.mkv -filter:"atempo = 2.0" -vn output.mkv\natempo filter 配置区间在0.5和2.0之间，如果需要更高倍，可以使用多个 atempo filter 串在一起来实现，下面是实现4倍的参考：')]),a._v(" "),t("h3",{attrs:{id:"同时对视频和音频倍速播放"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#同时对视频和音频倍速播放"}},[a._v("#")]),a._v(" 同时对视频和音频倍速播放")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg -i input.mkv -filter_complex "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[0:v]setpts=0.5*PTS[v];[0:a]atempo=2.0[a]"')]),a._v(" -map "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[v]"')]),a._v(" -map "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[a]"')]),a._v(" output.mkv\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"合并b站视频和音频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并b站视频和音频"}},[a._v("#")]),a._v(" 合并B站视频和音频")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg -i 00.mp4 -i 00.mp3 -vcodec copy -acodec copy output.mp4\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"图像帧与视频拆分合并"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图像帧与视频拆分合并"}},[a._v("#")]),a._v(" 图像帧与视频拆分合并")]),a._v(" "),t("h3",{attrs:{id:"拆分视频为图像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拆分视频为图像"}},[a._v("#")]),a._v(" 拆分视频为图像")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("ffmpeg.exe -y -i  ."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("test.avi  %04d.png\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("code",[a._v("-y")]),a._v(" 同意覆盖已有的\n"),t("code",[a._v("-i")]),a._v(" 输入视频\n"),t("code",[a._v("%04.d")]),a._v(" 的格式进行保存 ==》0001.png")]),a._v(" "),t("h3",{attrs:{id:"合并图像为视频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并图像为视频"}},[a._v("#")]),a._v(" 合并图像为视频")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("ffmpeg.exe -y -framerate "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("25")]),a._v(" -i  %04d.png ."),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("out.avi\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("code",[a._v("-framerate")]),a._v(" 输入帧率")]),a._v(" "),t("h2",{attrs:{id:"ffmpeg-转封装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg-转封装"}},[a._v("#")]),a._v(" FFmpeg 转封装")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg -i input.flv -vcodec copy -acodec copy output.mp4\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h2",{attrs:{id:"转换-vp9-编码的-youtube-上-webm-视频为-mov"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#转换-vp9-编码的-youtube-上-webm-视频为-mov"}},[a._v("#")]),a._v(" 转换 vp9 编码的 YouTube 上 webm 视频为 mov")]),a._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[a._v("i")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" *.webm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" ffmpeg -i "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),a._v(" -pix_fmt yuv422p10le -c:v prores -profile:v "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" -vendor ap10 "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("basename")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),a._v(" .webm"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v(".mov"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("注：视频嫌大了话可以用 -c:v libx265 转成HEVC的，如果嫌慢可以加 -preset faster，详见 "),t("a",{attrs:{href:"http://trac.ffmpeg.org/wiki",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://trac.ffmpeg.org/wiki"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"参考链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[a._v("#")]),a._v(" 参考链接")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/ternence_hsu/article/details/85865718",target:"_blank",rel:"noopener noreferrer"}},[a._v("ffmpeg 视频倍速播放 和 慢速播放"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/u011573853/article/details/113582768",target:"_blank",rel:"noopener noreferrer"}},[a._v("ffmpeg 拆分视频为图像 合并图像为视频"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/qq_43657442/article/details/109169060",target:"_blank",rel:"noopener noreferrer"}},[a._v("ffmpeg 实现把视频转为 .MP4"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.bilibili.com/read/cv11837642",target:"_blank",rel:"noopener noreferrer"}},[a._v("把webM封装的HDR视频转换为Mov封装的ProRes"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);